{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/lucas/Desktop/advanced/frontend/components/DeleteDataset.js\";\nimport { useMutation } from '@apollo/client';\nimport { DELETE_DATASET_MUTATION } from '../graphql/mutation';\nexport default function DeleteProduct({\n  id,\n  children\n}) {\n  const update = (cache, payload) => {\n    cache.evict(cache.identify(payload.data.deleteDataset));\n    cache.add;\n  };\n\n  const [deleteProduct, {\n    loading,\n    error\n  }] = useMutation(DELETE_DATASET_MUTATION, {\n    variables: {\n      id\n    },\n    update\n  });\n\n  const handleClick = async () => {\n    if (confirm('Are you sure you want to delete')) {\n      await deleteProduct().catch(err => alert(err.message));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    disabled: loading,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/lucas/Desktop/advanced/frontend/components/DeleteDataset.js"],"names":["useMutation","DELETE_DATASET_MUTATION","DeleteProduct","id","children","update","cache","payload","evict","identify","data","deleteDataset","add","deleteProduct","loading","error","variables","handleClick","confirm","catch","err","alert","message"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,uBAAT,QAAwC,qBAAxC;AAEA,eAAe,SAASC,aAAT,CAAuB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAvB,EAAyC;AACtD,QAAMC,MAAM,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACjCD,IAAAA,KAAK,CAACE,KAAN,CAAYF,KAAK,CAACG,QAAN,CAAeF,OAAO,CAACG,IAAR,CAAaC,aAA5B,CAAZ;AACAL,IAAAA,KAAK,CAACM,GAAN;AACD,GAHD;;AAKA,QAAM,CAACC,aAAD,EAAgB;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAhB,IAAsCf,WAAW,CACrDC,uBADqD,EAErD;AACEe,IAAAA,SAAS,EAAE;AAAEb,MAAAA;AAAF,KADb;AAEEE,IAAAA;AAFF,GAFqD,CAAvD;;AAQA,QAAMY,WAAW,GAAG,YAAY;AAC9B,QAAIC,OAAO,CAAC,iCAAD,CAAX,EAAgD;AAC9C,YAAML,aAAa,GAAGM,KAAhB,CAAuBC,GAAD,IAASC,KAAK,CAACD,GAAG,CAACE,OAAL,CAApC,CAAN;AACD;AACF,GAJD;;AAMA,sBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEL,WAA/B;AAA4C,IAAA,QAAQ,EAAEH,OAAtD;AAAA,cACGV;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD","sourcesContent":["import { useMutation } from '@apollo/client'\nimport { DELETE_DATASET_MUTATION } from '../graphql/mutation'\n\nexport default function DeleteProduct({ id, children }) {\n  const update = (cache, payload) => {\n    cache.evict(cache.identify(payload.data.deleteDataset))\n    cache.add\n  }\n\n  const [deleteProduct, { loading, error }] = useMutation(\n    DELETE_DATASET_MUTATION,\n    {\n      variables: { id },\n      update,\n    }\n  )\n\n  const handleClick = async () => {\n    if (confirm('Are you sure you want to delete')) {\n      await deleteProduct().catch((err) => alert(err.message))\n    }\n  }\n\n  return (\n    <button type=\"button\" onClick={handleClick} disabled={loading}>\n      {children}\n    </button>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}