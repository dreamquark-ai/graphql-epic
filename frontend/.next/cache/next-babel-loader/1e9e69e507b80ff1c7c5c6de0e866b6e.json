{"ast":null,"code":"import _defineProperty from \"/Users/lucas/Desktop/advanced/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/lucas/Desktop/advanced/frontend/new_components/molecules/animations/Slide.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Libs\nimport React, { useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { debounce } from \"lodash\"; // Components\n\nimport { Transition } from \"react-transition-group\";\nimport { useForkRef } from \"../../_utils\";\nimport { DURATION, EASING, createAnimation } from \"./_utils\";\nexport var SLIDE_DIRECTION = {\n  LEFT: \"left\",\n  RIGHT: \"right\",\n  UP: \"up\",\n  DOWN: \"down\"\n};\n/**\n * Translate the node so it can't be seen on the screen\n * @param {string} direction Either \"left\", \"right\", \"up\" or \"down\"\n * @param {object} node Node to translate\n */\n\nfunction getTranslateValue(direction, node) {\n  var _computedStyle$getPro;\n\n  var rect = node.getBoundingClientRect();\n  var computedStyle = window.getComputedStyle(node);\n  var transform = (_computedStyle$getPro = computedStyle.getPropertyValue(\"-webkit-transform\")) !== null && _computedStyle$getPro !== void 0 ? _computedStyle$getPro : computedStyle.getPropertyValue(\"transform\");\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== \"none\" && typeof transform === \"string\") {\n    var transformValues = transform.split(\"(\")[1].split(\")\")[0].split(\",\");\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === SLIDE_DIRECTION.LEFT) {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(\").concat(offsetX - rect.left, \"px)\");\n  }\n\n  if (direction === SLIDE_DIRECTION.RIGHT) {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === SLIDE_DIRECTION.UP) {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(\").concat(offsetY - rect.top, \"px)\");\n  } // direction === SLIDE_DIRECTION.DOWN\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nfunction setTranslateValue(direction, node) {\n  if (!node) {\n    return;\n  }\n\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\n\nvar defaultTimeout = {\n  enter: DURATION.enteringScreen,\n  exit: DURATION.leavingScreen\n};\nexport function Slide(_ref) {\n  _s();\n\n  var _ref$appear = _ref.appear,\n      appear = _ref$appear === void 0 ? true : _ref$appear,\n      _children = _ref.children,\n      _ref$direction = _ref.direction,\n      direction = _ref$direction === void 0 ? SLIDE_DIRECTION.LEFT : _ref$direction,\n      inProp = _ref[\"in\"],\n      onEnter = _ref.onEnter,\n      onEntered = _ref.onEntered,\n      onEntering = _ref.onEntering,\n      onExit = _ref.onExit,\n      onExited = _ref.onExited,\n      onExiting = _ref.onExiting,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? defaultTimeout : _ref$timeout,\n      transitionProps = _ref.transitionProps;\n  var ref = useRef(null);\n  var handleRef = useForkRef(ref, _children.ref);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (isAppearing) {\n      if (!callback) {\n        return;\n      }\n\n      if (isAppearing === undefined) {\n        callback(ref.current);\n      } else {\n        callback(ref.current, isAppearing);\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    setTranslateValue(direction, node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var animationProps = {\n      duration: timeout.enter,\n      easing: EASING.easeOut\n    };\n    node.style.webkitTransition = createAnimation(\"-webkit-transform\", animationProps);\n    node.style.transition = createAnimation(\"transform\", animationProps);\n    node.style.webkitTransform = \"none\";\n    node.style.transform = \"none\";\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var animationProps = {\n      duration: timeout.exit,\n      easing: EASING.sharp\n    };\n    node.style.webkitTransition = createAnimation(\"-webkit-transform\", animationProps);\n    node.style.transition = createAnimation(\"transform\", animationProps);\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExited = normalizedTransitionCallback(function (node) {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = \"\";\n    node.style.transition = \"\";\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n  useEffect(function () {\n    // We skip configuration if the position makes it screen size invariant\n    if (inProp || [SLIDE_DIRECTION.DOWN, SLIDE_DIRECTION.RIGHT].includes(direction)) {\n      return;\n    }\n\n    var handleResize = debounce(function () {\n      if (ref.current) {\n        setTranslateValue(direction, ref.current);\n      }\n    });\n    window.addEventListener(\"resize\", handleResize);\n    return function () {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [inProp, direction]);\n  useEffect(function () {\n    // We need to update the position of the drawer when the direction changes and when it's hidden\n    if (!inProp && ref.current) {\n      setTranslateValue(direction, ref.current);\n    }\n  }, [inProp, direction]);\n  return /*#__PURE__*/_jsxDEV(Transition, _objectSpread(_objectSpread({}, transitionProps), {}, {\n    nodeRef: ref,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    appear: appear,\n    \"in\": inProp,\n    timeout: timeout,\n    children: function children(state, childProps) {\n      return /*#__PURE__*/React.cloneElement(_children, _objectSpread({\n        ref: handleRef,\n        style: _objectSpread(_objectSpread({}, _children.props.style), {}, {\n          visibility: state === \"exited\" && !inProp ? \"hidden\" : undefined\n        })\n      }, childProps));\n    }\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Slide, \"4pchhDspTtOy2hGc7kZE+TpwULM=\", false, function () {\n  return [useForkRef];\n});\n\n_c = Slide;\nSlide.propTypes = {\n  /**\n   * If element should appear with animation\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Children to display\n   */\n  children: PropTypes.node,\n\n  /**\n   * Direction to appear with\n   */\n  direction: PropTypes.oneOf(Object.values(SLIDE_DIRECTION)),\n\n  /**\n   * If component is showed\n   */\n  \"in\": PropTypes.bool,\n\n  /**\n   * Enter handler\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Entered handler\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Entering handler\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Exit handler\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Exited handler\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Exiting handler\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Timeout for transitions\n   */\n  timeout: PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  }),\n\n  /**\n   * Additional props for Transition\n   */\n  transitionProps: PropTypes.shape(Transition.propTypes)\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Slide\");","map":{"version":3,"sources":["/Users/lucas/Desktop/advanced/frontend/new_components/molecules/animations/Slide.js"],"names":["React","useEffect","useRef","PropTypes","debounce","Transition","useForkRef","DURATION","EASING","createAnimation","SLIDE_DIRECTION","LEFT","RIGHT","UP","DOWN","getTranslateValue","direction","node","rect","getBoundingClientRect","computedStyle","window","getComputedStyle","transform","getPropertyValue","offsetX","offsetY","transformValues","split","parseInt","innerWidth","left","width","innerHeight","top","height","setTranslateValue","style","webkitTransform","defaultTimeout","enter","enteringScreen","exit","leavingScreen","Slide","appear","children","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","timeout","transitionProps","ref","handleRef","normalizedTransitionCallback","callback","isAppearing","undefined","current","handleEnter","handleEntering","animationProps","duration","easing","easeOut","webkitTransition","transition","handleEntered","handleExit","sharp","handleExiting","handleExited","includes","handleResize","addEventListener","removeEventListener","state","childProps","cloneElement","props","visibility","propTypes","bool","oneOf","Object","values","func","shape","number"],"mappings":";;;;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,QAAzB,C,CAEA;;AACA,SAASC,UAAT,QAA2B,wBAA3B;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,eAA3B,QAAkD,UAAlD;AAEA,OAAO,IAAMC,eAAe,GAAG;AAC3BC,EAAAA,IAAI,EAAE,MADqB;AAE3BC,EAAAA,KAAK,EAAE,OAFoB;AAG3BC,EAAAA,EAAE,EAAE,IAHuB;AAI3BC,EAAAA,IAAI,EAAE;AAJqB,CAAxB;AAOP;AACA;AACA;AACA;AACA;;AACA,SAASC,iBAAT,CAA2BC,SAA3B,EAAsCC,IAAtC,EAA4C;AAAA;;AACxC,MAAMC,IAAI,GAAGD,IAAI,CAACE,qBAAL,EAAb;AAEA,MAAMC,aAAa,GAAGC,MAAM,CAACC,gBAAP,CAAwBL,IAAxB,CAAtB;AACA,MAAMM,SAAS,4BACXH,aAAa,CAACI,gBAAd,CAA+B,mBAA/B,CADW,yEAC4CJ,aAAa,CAACI,gBAAd,CAA+B,WAA/B,CAD3D;AAGA,MAAIC,OAAO,GAAG,CAAd;AACA,MAAIC,OAAO,GAAG,CAAd;;AAEA,MAAIH,SAAS,IAAIA,SAAS,KAAK,MAA3B,IAAqC,OAAOA,SAAP,KAAqB,QAA9D,EAAwE;AACpE,QAAMI,eAAe,GAAGJ,SAAS,CAACK,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwBA,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,EAAsCA,KAAtC,CAA4C,GAA5C,CAAxB;AACAH,IAAAA,OAAO,GAAGI,QAAQ,CAACF,eAAe,CAAC,CAAD,CAAhB,EAAqB,EAArB,CAAlB;AACAD,IAAAA,OAAO,GAAGG,QAAQ,CAACF,eAAe,CAAC,CAAD,CAAhB,EAAqB,EAArB,CAAlB;AACH;;AAED,MAAIX,SAAS,KAAKN,eAAe,CAACC,IAAlC,EAAwC;AACpC,gCAAqBU,MAAM,CAACS,UAA5B,4BAAwDL,OAAO,GAAGP,IAAI,CAACa,IAAvE;AACH;;AAED,MAAIf,SAAS,KAAKN,eAAe,CAACE,KAAlC,EAAyC;AACrC,iCAAsBM,IAAI,CAACa,IAAL,GAAYb,IAAI,CAACc,KAAjB,GAAyBP,OAA/C;AACH;;AAED,MAAIT,SAAS,KAAKN,eAAe,CAACG,EAAlC,EAAsC;AAClC,gCAAqBQ,MAAM,CAACY,WAA5B,4BAAyDP,OAAO,GAAGR,IAAI,CAACgB,GAAxE;AACH,GA1BuC,CA4BxC;;;AACA,+BAAsBhB,IAAI,CAACgB,GAAL,GAAWhB,IAAI,CAACiB,MAAhB,GAAyBT,OAA/C;AACH;;AAED,SAASU,iBAAT,CAA2BpB,SAA3B,EAAsCC,IAAtC,EAA4C;AACxC,MAAI,CAACA,IAAL,EAAW;AACP;AACH;;AAED,MAAMM,SAAS,GAAGR,iBAAiB,CAACC,SAAD,EAAYC,IAAZ,CAAnC;;AAEA,MAAIM,SAAJ,EAAe;AACXN,IAAAA,IAAI,CAACoB,KAAL,CAAWC,eAAX,GAA6Bf,SAA7B;AACAN,IAAAA,IAAI,CAACoB,KAAL,CAAWd,SAAX,GAAuBA,SAAvB;AACH;AACJ;;AAED,IAAMgB,cAAc,GAAG;AACnBC,EAAAA,KAAK,EAAEjC,QAAQ,CAACkC,cADG;AAEnBC,EAAAA,IAAI,EAAEnC,QAAQ,CAACoC;AAFI,CAAvB;AAKA,OAAO,SAASC,KAAT,OAaJ;AAAA;;AAAA,yBAZCC,MAYD;AAAA,MAZCA,MAYD,4BAZU,IAYV;AAAA,MAXCC,SAWD,QAXCA,QAWD;AAAA,4BAVC9B,SAUD;AAAA,MAVCA,SAUD,+BAVaN,eAAe,CAACC,IAU7B;AAAA,MATKoC,MASL;AAAA,MARCC,OAQD,QARCA,OAQD;AAAA,MAPCC,SAOD,QAPCA,SAOD;AAAA,MANCC,UAMD,QANCA,UAMD;AAAA,MALCC,MAKD,QALCA,MAKD;AAAA,MAJCC,QAID,QAJCA,QAID;AAAA,MAHCC,SAGD,QAHCA,SAGD;AAAA,0BAFCC,OAED;AAAA,MAFCA,OAED,6BAFWf,cAEX;AAAA,MADCgB,eACD,QADCA,eACD;AACC,MAAMC,GAAG,GAAGtD,MAAM,CAAC,IAAD,CAAlB;AACA,MAAMuD,SAAS,GAAGnD,UAAU,CAACkD,GAAD,EAAMV,SAAQ,CAACU,GAAf,CAA5B;;AAEA,MAAME,4BAA4B,GAAG,SAA/BA,4BAA+B,CAACC,QAAD;AAAA,WAAc,UAACC,WAAD,EAAiB;AAChE,UAAI,CAACD,QAAL,EAAe;AACX;AACH;;AAED,UAAIC,WAAW,KAAKC,SAApB,EAA+B;AAC3BF,QAAAA,QAAQ,CAACH,GAAG,CAACM,OAAL,CAAR;AACH,OAFD,MAEO;AACHH,QAAAA,QAAQ,CAACH,GAAG,CAACM,OAAL,EAAcF,WAAd,CAAR;AACH;AACJ,KAVoC;AAAA,GAArC;;AAYA,MAAMG,WAAW,GAAGL,4BAA4B,CAAC,UAACzC,IAAD,EAAO2C,WAAP,EAAuB;AACpExB,IAAAA,iBAAiB,CAACpB,SAAD,EAAYC,IAAZ,CAAjB;;AAEA,QAAI+B,OAAJ,EAAa;AACTA,MAAAA,OAAO,CAAC/B,IAAD,EAAO2C,WAAP,CAAP;AACH;AACJ,GAN+C,CAAhD;AAQA,MAAMI,cAAc,GAAGN,4BAA4B,CAAC,UAACzC,IAAD,EAAO2C,WAAP,EAAuB;AACvE,QAAMK,cAAc,GAAG;AACnBC,MAAAA,QAAQ,EAAEZ,OAAO,CAACd,KADC;AAEnB2B,MAAAA,MAAM,EAAE3D,MAAM,CAAC4D;AAFI,KAAvB;AAKAnD,IAAAA,IAAI,CAACoB,KAAL,CAAWgC,gBAAX,GAA8B5D,eAAe,CAAC,mBAAD,EAAsBwD,cAAtB,CAA7C;AACAhD,IAAAA,IAAI,CAACoB,KAAL,CAAWiC,UAAX,GAAwB7D,eAAe,CAAC,WAAD,EAAcwD,cAAd,CAAvC;AACAhD,IAAAA,IAAI,CAACoB,KAAL,CAAWC,eAAX,GAA6B,MAA7B;AACArB,IAAAA,IAAI,CAACoB,KAAL,CAAWd,SAAX,GAAuB,MAAvB;;AAEA,QAAI2B,UAAJ,EAAgB;AACZA,MAAAA,UAAU,CAACjC,IAAD,EAAO2C,WAAP,CAAV;AACH;AACJ,GAdkD,CAAnD;AAgBA,MAAMW,aAAa,GAAGb,4BAA4B,CAACT,SAAD,CAAlD;AAEA,MAAMuB,UAAU,GAAGd,4BAA4B,CAAC,UAACzC,IAAD,EAAU;AACtD,QAAMgD,cAAc,GAAG;AACnBC,MAAAA,QAAQ,EAAEZ,OAAO,CAACZ,IADC;AAEnByB,MAAAA,MAAM,EAAE3D,MAAM,CAACiE;AAFI,KAAvB;AAKAxD,IAAAA,IAAI,CAACoB,KAAL,CAAWgC,gBAAX,GAA8B5D,eAAe,CAAC,mBAAD,EAAsBwD,cAAtB,CAA7C;AACAhD,IAAAA,IAAI,CAACoB,KAAL,CAAWiC,UAAX,GAAwB7D,eAAe,CAAC,WAAD,EAAcwD,cAAd,CAAvC;AAEA7B,IAAAA,iBAAiB,CAACpB,SAAD,EAAYC,IAAZ,CAAjB;;AAEA,QAAIkC,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAAClC,IAAD,CAAN;AACH;AACJ,GAd8C,CAA/C;AAgBA,MAAMyD,aAAa,GAAGhB,4BAA4B,CAACL,SAAD,CAAlD;AAEA,MAAMsB,YAAY,GAAGjB,4BAA4B,CAAC,UAACzC,IAAD,EAAU;AACxD;AACAA,IAAAA,IAAI,CAACoB,KAAL,CAAWgC,gBAAX,GAA8B,EAA9B;AACApD,IAAAA,IAAI,CAACoB,KAAL,CAAWiC,UAAX,GAAwB,EAAxB;;AAEA,QAAIlB,QAAJ,EAAc;AACVA,MAAAA,QAAQ,CAACnC,IAAD,CAAR;AACH;AACJ,GARgD,CAAjD;AAUAhB,EAAAA,SAAS,CAAC,YAAM;AACZ;AACA,QAAI8C,MAAM,IAAI,CAACrC,eAAe,CAACI,IAAjB,EAAuBJ,eAAe,CAACE,KAAvC,EAA8CgE,QAA9C,CAAuD5D,SAAvD,CAAd,EAAiF;AAC7E;AACH;;AAED,QAAM6D,YAAY,GAAGzE,QAAQ,CAAC,YAAM;AAChC,UAAIoD,GAAG,CAACM,OAAR,EAAiB;AACb1B,QAAAA,iBAAiB,CAACpB,SAAD,EAAYwC,GAAG,CAACM,OAAhB,CAAjB;AACH;AACJ,KAJ4B,CAA7B;AAMAzC,IAAAA,MAAM,CAACyD,gBAAP,CAAwB,QAAxB,EAAkCD,YAAlC;AAEA,WAAO,YAAM;AACTxD,MAAAA,MAAM,CAAC0D,mBAAP,CAA2B,QAA3B,EAAqCF,YAArC;AACH,KAFD;AAGH,GAjBQ,EAiBN,CAAC9B,MAAD,EAAS/B,SAAT,CAjBM,CAAT;AAmBAf,EAAAA,SAAS,CAAC,YAAM;AACZ;AACA,QAAI,CAAC8C,MAAD,IAAWS,GAAG,CAACM,OAAnB,EAA4B;AACxB1B,MAAAA,iBAAiB,CAACpB,SAAD,EAAYwC,GAAG,CAACM,OAAhB,CAAjB;AACH;AACJ,GALQ,EAKN,CAACf,MAAD,EAAS/B,SAAT,CALM,CAAT;AAOA,sBACI,QAAC,UAAD,kCACQuC,eADR;AAEI,IAAA,OAAO,EAAEC,GAFb;AAGI,IAAA,OAAO,EAAEO,WAHb;AAII,IAAA,SAAS,EAAEQ,aAJf;AAKI,IAAA,UAAU,EAAEP,cALhB;AAMI,IAAA,MAAM,EAAEQ,UANZ;AAOI,IAAA,QAAQ,EAAEG,YAPd;AAQI,IAAA,SAAS,EAAED,aARf;AASI,IAAA,MAAM,EAAE7B,MATZ;AAUI,UAAIE,MAVR;AAWI,IAAA,OAAO,EAAEO,OAXb;AAAA,cAaK,kBAAC0B,KAAD,EAAQC,UAAR;AAAA,0BACGjF,KAAK,CAACkF,YAAN,CAAmBpC,SAAnB;AACIU,QAAAA,GAAG,EAAEC,SADT;AAEIpB,QAAAA,KAAK,kCACES,SAAQ,CAACqC,KAAT,CAAe9C,KADjB;AAED+C,UAAAA,UAAU,EAAEJ,KAAK,KAAK,QAAV,IAAsB,CAACjC,MAAvB,GAAgC,QAAhC,GAA2Cc;AAFtD;AAFT,SAMOoB,UANP,EADH;AAAA;AAbL;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH;;GAvIerC,K;UAeMtC,U;;;KAfNsC,K;AAyIhBA,KAAK,CAACyC,SAAN,GAAkB;AACd;AACJ;AACA;AACIxC,EAAAA,MAAM,EAAE1C,SAAS,CAACmF,IAJJ;;AAKd;AACJ;AACA;AACIxC,EAAAA,QAAQ,EAAE3C,SAAS,CAACc,IARN;;AASd;AACJ;AACA;AACID,EAAAA,SAAS,EAAEb,SAAS,CAACoF,KAAV,CAAgBC,MAAM,CAACC,MAAP,CAAc/E,eAAd,CAAhB,CAZG;;AAad;AACJ;AACA;AACI,QAAIP,SAAS,CAACmF,IAhBA;;AAiBd;AACJ;AACA;AACItC,EAAAA,OAAO,EAAE7C,SAAS,CAACuF,IApBL;;AAqBd;AACJ;AACA;AACIzC,EAAAA,SAAS,EAAE9C,SAAS,CAACuF,IAxBP;;AAyBd;AACJ;AACA;AACIxC,EAAAA,UAAU,EAAE/C,SAAS,CAACuF,IA5BR;;AA6Bd;AACJ;AACA;AACIvC,EAAAA,MAAM,EAAEhD,SAAS,CAACuF,IAhCJ;;AAiCd;AACJ;AACA;AACItC,EAAAA,QAAQ,EAAEjD,SAAS,CAACuF,IApCN;;AAqCd;AACJ;AACA;AACIrC,EAAAA,SAAS,EAAElD,SAAS,CAACuF,IAxCP;;AAyCd;AACJ;AACA;AACIpC,EAAAA,OAAO,EAAEnD,SAAS,CAACwF,KAAV,CAAgB;AACrBnD,IAAAA,KAAK,EAAErC,SAAS,CAACyF,MADI;AAErBlD,IAAAA,IAAI,EAAEvC,SAAS,CAACyF;AAFK,GAAhB,CA5CK;;AAgDd;AACJ;AACA;AACIrC,EAAAA,eAAe,EAAEpD,SAAS,CAACwF,KAAV,CAAgBtF,UAAU,CAACgF,SAA3B;AAnDH,CAAlB","sourcesContent":["// Libs\nimport React, { useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { debounce } from \"lodash\";\n\n// Components\nimport { Transition } from \"react-transition-group\";\n\nimport { useForkRef } from \"../../_utils\";\nimport { DURATION, EASING, createAnimation } from \"./_utils\";\n\nexport const SLIDE_DIRECTION = {\n    LEFT: \"left\",\n    RIGHT: \"right\",\n    UP: \"up\",\n    DOWN: \"down\",\n};\n\n/**\n * Translate the node so it can't be seen on the screen\n * @param {string} direction Either \"left\", \"right\", \"up\" or \"down\"\n * @param {object} node Node to translate\n */\nfunction getTranslateValue(direction, node) {\n    const rect = node.getBoundingClientRect();\n\n    const computedStyle = window.getComputedStyle(node);\n    const transform =\n        computedStyle.getPropertyValue(\"-webkit-transform\") ?? computedStyle.getPropertyValue(\"transform\");\n\n    let offsetX = 0;\n    let offsetY = 0;\n\n    if (transform && transform !== \"none\" && typeof transform === \"string\") {\n        const transformValues = transform.split(\"(\")[1].split(\")\")[0].split(\",\");\n        offsetX = parseInt(transformValues[4], 10);\n        offsetY = parseInt(transformValues[5], 10);\n    }\n\n    if (direction === SLIDE_DIRECTION.LEFT) {\n        return `translateX(${window.innerWidth}px) translateX(${offsetX - rect.left}px)`;\n    }\n\n    if (direction === SLIDE_DIRECTION.RIGHT) {\n        return `translateX(-${rect.left + rect.width - offsetX}px)`;\n    }\n\n    if (direction === SLIDE_DIRECTION.UP) {\n        return `translateY(${window.innerHeight}px) translateY(${offsetY - rect.top}px)`;\n    }\n\n    // direction === SLIDE_DIRECTION.DOWN\n    return `translateY(-${rect.top + rect.height - offsetY}px)`;\n}\n\nfunction setTranslateValue(direction, node) {\n    if (!node) {\n        return;\n    }\n\n    const transform = getTranslateValue(direction, node);\n\n    if (transform) {\n        node.style.webkitTransform = transform;\n        node.style.transform = transform;\n    }\n}\n\nconst defaultTimeout = {\n    enter: DURATION.enteringScreen,\n    exit: DURATION.leavingScreen,\n};\n\nexport function Slide({\n    appear = true,\n    children,\n    direction = SLIDE_DIRECTION.LEFT,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    timeout = defaultTimeout,\n    transitionProps,\n}) {\n    const ref = useRef(null);\n    const handleRef = useForkRef(ref, children.ref);\n\n    const normalizedTransitionCallback = (callback) => (isAppearing) => {\n        if (!callback) {\n            return;\n        }\n\n        if (isAppearing === undefined) {\n            callback(ref.current);\n        } else {\n            callback(ref.current, isAppearing);\n        }\n    };\n\n    const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n        setTranslateValue(direction, node);\n\n        if (onEnter) {\n            onEnter(node, isAppearing);\n        }\n    });\n\n    const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n        const animationProps = {\n            duration: timeout.enter,\n            easing: EASING.easeOut,\n        };\n\n        node.style.webkitTransition = createAnimation(\"-webkit-transform\", animationProps);\n        node.style.transition = createAnimation(\"transform\", animationProps);\n        node.style.webkitTransform = \"none\";\n        node.style.transform = \"none\";\n\n        if (onEntering) {\n            onEntering(node, isAppearing);\n        }\n    });\n\n    const handleEntered = normalizedTransitionCallback(onEntered);\n\n    const handleExit = normalizedTransitionCallback((node) => {\n        const animationProps = {\n            duration: timeout.exit,\n            easing: EASING.sharp,\n        };\n\n        node.style.webkitTransition = createAnimation(\"-webkit-transform\", animationProps);\n        node.style.transition = createAnimation(\"transform\", animationProps);\n\n        setTranslateValue(direction, node);\n\n        if (onExit) {\n            onExit(node);\n        }\n    });\n\n    const handleExiting = normalizedTransitionCallback(onExiting);\n\n    const handleExited = normalizedTransitionCallback((node) => {\n        // No need for transitions when the component is hidden\n        node.style.webkitTransition = \"\";\n        node.style.transition = \"\";\n\n        if (onExited) {\n            onExited(node);\n        }\n    });\n\n    useEffect(() => {\n        // We skip configuration if the position makes it screen size invariant\n        if (inProp || [SLIDE_DIRECTION.DOWN, SLIDE_DIRECTION.RIGHT].includes(direction)) {\n            return;\n        }\n\n        const handleResize = debounce(() => {\n            if (ref.current) {\n                setTranslateValue(direction, ref.current);\n            }\n        });\n\n        window.addEventListener(\"resize\", handleResize);\n\n        return () => {\n            window.removeEventListener(\"resize\", handleResize);\n        };\n    }, [inProp, direction]);\n\n    useEffect(() => {\n        // We need to update the position of the drawer when the direction changes and when it's hidden\n        if (!inProp && ref.current) {\n            setTranslateValue(direction, ref.current);\n        }\n    }, [inProp, direction]);\n\n    return (\n        <Transition\n            {...transitionProps}\n            nodeRef={ref}\n            onEnter={handleEnter}\n            onEntered={handleEntered}\n            onEntering={handleEntering}\n            onExit={handleExit}\n            onExited={handleExited}\n            onExiting={handleExiting}\n            appear={appear}\n            in={inProp}\n            timeout={timeout}\n        >\n            {(state, childProps) =>\n                React.cloneElement(children, {\n                    ref: handleRef,\n                    style: {\n                        ...children.props.style,\n                        visibility: state === \"exited\" && !inProp ? \"hidden\" : undefined,\n                    },\n                    ...childProps,\n                })\n            }\n        </Transition>\n    );\n}\n\nSlide.propTypes = {\n    /**\n     * If element should appear with animation\n     */\n    appear: PropTypes.bool,\n    /**\n     * Children to display\n     */\n    children: PropTypes.node,\n    /**\n     * Direction to appear with\n     */\n    direction: PropTypes.oneOf(Object.values(SLIDE_DIRECTION)),\n    /**\n     * If component is showed\n     */\n    in: PropTypes.bool,\n    /**\n     * Enter handler\n     */\n    onEnter: PropTypes.func,\n    /**\n     * Entered handler\n     */\n    onEntered: PropTypes.func,\n    /**\n     * Entering handler\n     */\n    onEntering: PropTypes.func,\n    /**\n     * Exit handler\n     */\n    onExit: PropTypes.func,\n    /**\n     * Exited handler\n     */\n    onExited: PropTypes.func,\n    /**\n     * Exiting handler\n     */\n    onExiting: PropTypes.func,\n    /**\n     * Timeout for transitions\n     */\n    timeout: PropTypes.shape({\n        enter: PropTypes.number,\n        exit: PropTypes.number,\n    }),\n    /**\n     * Additional props for Transition\n     */\n    transitionProps: PropTypes.shape(Transition.propTypes),\n};\n"]},"metadata":{},"sourceType":"module"}